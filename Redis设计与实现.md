# Redis设计与实现

# 数据结构

## 简单动态字符串SDS

定义`len free buf三个字段`

- redis只会使用c作为字面量
- o(1)获取字符串长度
- 杜绝缓存区溢出
- 减少修改长度是需要的内存重分配次数
- 二进制安全
- 兼容c部分函数

## 链表

特性：双端、无环、带表头和表位指针、带链表长度计数器、多态（可保存各种不同类型的值）

## 字典

哈希表作为底层实现

根据键计算出索引值->放到指定的索引上

使用链地址法解决哈希冲突，新节点添加到表头位置

# 对象

# 笔记

map kv外层封装，hash是底层实现之一

哈希 空间换时间

哈希算法

链表

连续内存 缓存

cpu缓存？

新的list编码类型 quicklist

